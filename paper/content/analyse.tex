\chapter{Analyse}\label{chapter:analysis}
In diesem Kapitel werden die Analyseschritte und die Vorüberlegungen beschrieben, die vor der Konzeption und Implementierung der Anwendung durchgeführt wurden.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\imiscomment{Analyse der Problemstellung, der Zielgruppen sowie des Anwendungskontextes}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Problemanalyse}\label{sec:problem_ana}
Bei der Entwicklung des MACK Frameworks geht es vor allem darum, geeignete Reasoner zu entwickeln, die auf Basis von Sensordaten Zustände von Personen ermitteln können und diese an Aktuatoren weiterleiten. Hierbei entstehen komplexe Abhängigkeiten, da die ermittelten Werte der Sensoren vom Verhalten der Personen abhängen, welches wiederum zu einem gewissen Anteil von den Meldungen der Aktuatoren abhängen können.

Um die Effizienz und Vollständigkeit der Reasoner zu verifizieren gibt es bislang nur die Möglichkeit, diese mit Hardware-Impementierungen der Sensoren und Aktuatoren zu verknüpfen und denkbare Szenarien durchzuführen. Dies birgt zum einen das Problem, dass zunächst die Hardware entwickelt werden muss, was mit hohem Zeit- und Kostenaufwand verbunden ist. Zum anderen muss das System von vielen Benutzern eingesetzt werden, um repräsentative Ergebnisse zu erhalten.

Darüber hinaus gibt es bisher unerforschte Einsatzgebiete für das MACK Framework, für die es weder die Reasoner noch die notwendige Hardware gibt. Bevor die teure Hardware entwickelt oder eingekauft wird, soll getestet werden, ob das System für den angedachten Anwendungszweck geeignet ist.

Selbst mit in ausreichendem Umfang vorhandener Hardware ist es nur schwer möglich, die Wechselwirkung zwischen den Personen und dem Framework zu testen.

Um eine Idee dafür zu bekommen, in welchen Einsatzgebiete das Framework eingesetzt werden könnte und welches demnach Gebiete sind, die der Simulator simulieren können sollte, haben wir uns verschiedene Szenarien überlegt. Mit den nachfolgenden Szenarien haben wir im Verlauf der Planung und Implementierung verifizieren können, dass das Simulationsframework flexibel genug ist um für verschiedene Einsatzgebiete adaptiert werden zu können.

Die Implementierung aller Szenarien im beschriebenen Umfang ist nicht teil unseres Projektes. Wir beschränken uns hierbei auf eine grundlegende Implementierung des Büro-Szenarios in einer Form ähnlich der nachfolgend beschriebenen. 

\subsection*{Szenario: Büro}

Das Büroszenario ist das Standardszenario des IMIS, für das bereits Teile einer Hardware-Implementierung und Reasoner vorliegen.

Es gibt mehrere Büros, abgehend von einem Korridor. Jedes Büro hat einen Schreibtisch, der eine Dropzone und einen Cube beherbergt. Außerdem steht in jedem Büro ein Telefon und es gibt eine akustische Überwachung, mit der festgestellt werden kann, ob der dort arbeitende Anwender gerade spricht (Telefon/Gäste). 

Es gibt an jeder Bürotür ein interaktives Türschild und eine Ampel, die Besuchern Informationen über die Unterbrechbarkeit des Bürobesitzers liefert.
Vom Flur abgehend gibt es Toiletten, eine Teeküche und einen Konferenzraum. Die Toiletten melden wenn sie belegt sind, aus Gründen der Privatsphäre jedoch natürlich nicht, wer gerade drauf sitzt. Personen haben die Möglichkeit bevor sie aufstehen zu sehen, ob die Toilette gerade besetzt ist. In der Teeküche gibt es einen Kaffeeautomaten der gerne von Mitarbeitern zum Pausengespräch genutzt wird. Im Konferenzraum werden täglich um 10 Uhr die Tagesziele besprochen, dazu müssen alle Mitarbeiter kommen.

Das Standardverhalten wenn Personen keine spezifische Aktion vorhaben ist, im Büro am Schreibtisch sitzen, sich Kaffee zu holen oder eine der Toiletten aufzusuchen.

Mögliche Zufallskomponente, die einen Anwender in seiner aktuellen Aktion unterbrechen könnten, sind zum Beispiel das Klingeln des Telefons oder andere Kommunikationsmittel. Wenn der Adressat im Radius des Kommunikationsmittel ist, beschäftigt er sich für eine zufällige Dauer mit der Kommunikation und unterbricht dafür seine Arbeit.

\subsection*{Szenario: Museum}
 
In einem Museum gibt verschiedene Bereiche mit unterschiedlichen Themengebieten, zum Beispiel könnte es in einer Ausstellung über die menschlichen Sinne die Bereiche \glqq Sehen\grqq , \glqq Hören\grqq, \glqq Fühlen\grqq und andere geben. Außerdem gibt es Toiletten und einen Souvenierladen.

Personen im Museum sind Besucher (20 – 100) und verschiedene Mitarbeiter (10 – 20). Einige Mitarbeiter machen Führungen mit Besuchern durch bestimmte Bereiche, einige Mitarbeiter bewachen empfindliche oder wertvolle Ausstellungsstücke und können Besuchern Wege zu bestimmten Bereichen wie Toiletten und dem Ausgang weisen.

Am Ein- und Ausgang befindet sich ein Lageplan für das Museum, an verschiedenen Ausstellungsstücken gibt es Informationstafel und beim Eintritt in das Museum können die Besucher einen elektronischen Führer mitnehmen. Der elektronische Führer ist Sensor und Aktuator zugleich. Er ermöglicht dem Besucher, sich die Hinweise auf den Informationstafeln vorlesen zu lassen und merkt sich, welche Ausstellungsstücke und Bereiche des Museums den Besucher interessieren. Auf Grundlage dieser Daten macht er Vorschläge, welche anderen Bereiche und Ausstellungsstücke interessant für diesen Besucher sein könnten. Außerdem schlägt er Führungen durch das Museum vor, die ebenfalls auf die Interessen des Benutzers angepasst sind. Der elektronische Führer könnte zusätzlich beim Betreten des Souvenierladens anzeigen, welche Souveniers dem Besucher gefallen könnten.

Es gibt noch weitere Sensoren innerhalb der Bereiche, die feststellen können, wie viele Personen sich in bestimmten Bereichen aufhalten. Durch Aktuatoren an Türen in den Bereiche könnte den Besuchern angezeigt werden, welche Bereiche gerade überfüllt oder wenig besucht sind.

\subsection*{Szenario: Krankenhaus}

In einem Krankenhaus auf einer Intensivstation arbeiten 10 Krankenschwestern und zwei Ärzte. Es gibt 10 Einzelzimmer und 10 Doppelzimmer. Insgesamt gibt es 30 Patienten. Die 10 Patienten in den 10 Einzelzimmern sind in einem kritischen Zustand und sind deshalb an ein Health-Monitoring-System (HMS) angeschlossen, welches den Sauerstoffgehalt im Blut, den Blutdruck, den Puls und die Atemfrequenz erfasst. Außerdem stuft das System den Patienten anhand dieser Werte in Kategorien ein: sehr gut, gut, stabil, kritisch, lebensgefährlich und unbekannt.

Alle Mitarbeiter verfügen über einen Tablett PC, über den sie innerhalb der Station lokalisiert werden können. Darüber hinaus werden die Geräte zur Protokolierung der Visiten verwendet. Wenn ein Patient in den Zustand kritisch oder schlechter wechselt, werden beide Ärzte über das Tablett informiert. Sie erhalten die Zustandseinschätzung des Monitors, die Analysewerte und die Information, welcher Patient in welchem Raum betroffen ist.

Die Station hat außerdem zwei Computerarbeitsplätze im Schwesternzimmer, sowie zwei mit Computern ausgestattete Behandlungszimmer, die gleichzeitig die Büros der Ärzte sind. Alle Computer sind mit dem \glqq Desktop Activity Analyzer\grqq\ ausgestattet.

Die Simulation beginnt am 1.11.2011 um 4:30. Eine der beiden Nachtschwestern macht einen Kontrollgang. Danach begibt sich sich zurück ins Schwesternzimmer und arbeitet für zwei Stunden am PC. Um 5:00 Uhr wechselt das HMS in Raum 1 von stabil auf kritisch. Wenn das Panel im Schwesternzimmer dies anzeigt, soll eine Schwester, welche dies sieht sofort in das entsprechende Zimmer gehen und Gegenmaßnahmen vornehmen, so dass der Zustand im Anschluss mindestens stabil ist. Danach setzt die Schwester ihr vorherige Aktivität fort. 

Um 5:30 macht die andere Schwester einen Rundgang. Um 6:00 kommt der 1. Arzt. Er holt sich zunächst einen Kaffee aus der Küche um danach in seinem Zimmer für 30 Minuten am Computer die Vorkommnisse der letzten Nacht durchzugehen (lesen). Der zweite Arzt kommt um 6:15 holt sich ebenfalls einen Kaffee und geht danach in sein Zimmer um an seinem Computer die Vorkommnisse der letzten Nacht zu analysieren. Um 6:45 kommen die ersten 5 Tagesschwestern. Um 7:00 Uhr treffen sich alle anwesenden Mitarbeiter zur Besprechung im Schwesternzimmer (1 Stunde). Danach gehen die Nachtschwestern nach Hause. Um 9:00 wird der Patient aus Zimmer 3 in den OP gebracht. Arzt 1 operiert für 3 Stunden zusammen mit 5 Schwestern, die dafür zur Arbeit kommen, den Patienten. Während dieser Zeit ignoriert er alle Meldungen, d.h. er unterbricht diese Aktion nicht, selbst wenn das System einen Vorfall bei einem anderen Patienten meldet.

Um 10:00 Uhr melden die HMS in R4 und R5, dass der Zustand von gut auf lebensgefährlich wechselt. Der freie Arzt unterbricht seine Aktivität und geht in das erste Zimmer. Die Schwester, die am nächsten ist, geht in das zweite Zimmer. Dem operierenden Arzt wird die Situation via Tablett Computer gemeldet. Der freie Arzt erkennt eine Fehlfunktion des Systems und setzt den Zustand wieder auf gut. Anschließend geht er zum zweiten kritischen Patienten. 

Um 11:00 Uhr beginnt der Arzt mit zwei Schwestern mit der Visite. Während dessen meldet sein Smartphone eine kritische Situation im OP, so dass er zunächst in den OP geht um dem operierenden Arzt zu assistieren. Nach einer Stunde sind beide Ärzte mit der Operation fertig und gehen den Aktionen nach, die sie während der Operation ignoriert haben, sofern diese nicht bereits von anderen erledigt wurden.

Jeder Arzt hat eine Schwester, die stündlich zu ihm kommen muss, um Aktuelles mit ihm zu besprechen. Bevor sie dies tun, prüfen sie mit ihrem Tablett, ob der jeweilige Arzt verfügbar ist, und wo er sich befindet. Das System liefert hierzu die Raum ID und den Status des Arztes (Unterbrechbar, Nicht unterbrechbar oder Unbekannt).
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\imiscomment{Problemanalyse oder Aufgabenanalyse (Aufgaben, die mit dem System von einem Benutzer gelösten werden können sollen)}

% The following is an example of an IMIS-styled table.
% You are free to use other styles, in fact, encouraged.
% You should look at other options, e.g. using booktable.sty
% Bringhurst says on the issue of rules etc. in tables:
%   There should be a minimum amount of furniture (rules,
%   boxes, dots and other guiderails for traveling through
%   typographic space) and a maximum amount of information.
% You cannot follow Bringhurst and IMIS at the same time,
% your choice.
%\begin{table}[ht]
% \newcolumntype{Y}{>{\columncolor[gray]{.85}}>{\raggedright\arraybackslash}X}
%  \begin{tabularx}{\columnwidth}{!{\vrule width 1pt}Y!{\vrule width 1pt}l|l|l|l|l|l|l!{\vrule width 1pt}}
%    \noalign{\hrule height 1pt}
%    \rowcolor[gray]{.85}
%    \textbf{bis} & \textbf{15.5.} & \textbf{22.5.} & \textbf{5.6.} & \textbf{12.6.} & \textbf{19.6.} & \textbf{26.6.} & \textbf{3.7.} \\\noalign{\hrule height 1pt}
%    \textbf{Content Theory}  & Lübeck & & Kiel     & Lübeck   & Final        &       & \\\hline
%    \textbf{Content Videos}  & Lübeck & & Kiel     & Kiel     & Final        &       & \\\hline
%    \textbf{Cover, Icon}     & Kiel   & & Lübeck   & Kiel     & Kiel         & Final & \\\hline
%    \textbf{Videobearbeitung}& Lübeck & & SLH, LOS & BNR, IGS & CFW,CJB      & Final & \\\hline
%    \textbf{Aufbereitung der Videos}
%                             & Kiel   & & Kiel     & Lübeck   & Lübeck       & Final & \\\hline
%    \textbf{Bilder/Videos der Interviews}
%                             & Lübeck & & Lübeck   & Kiel     & Kiel/Lübeck  & Final & \\\hline
%    \textbf{Audio-Sprechertexte}
%                             & Lübeck & & Kiel     & Kiel     & Lübeck       & Final & \\
%    \noalign{\hrule height 1pt}
%  \end{tabularx}
%  \caption{Beispieltabelle}
%  \label{table:example}
%\end{table}%
%
%\begin{table}[ht]
%  \begin{center}
%    \begin{tabular}{lrr}
%      \textbf{Beruf}  & \textbf{Anzahl} & \textbf{Anteil}\\ \hline
%      Student/in         & 17 & 65.38\% \\
%      Wissenschaftler/in &  3 & 11.54\% \\
%      Professor/in       &  2 &  7.69\% \\
%      Forscher/in        &  1 &  3.85\% \\
%      Informatiker/in    &  1 &  3.85\% \\
%      Führungskraft      &  1 &  3.85\% \\
%      Verkaufskraft      &  1 &  3.85\% \\
%    \end{tabular}
%    \caption{Berufe der Umfrageteilnehmer}
%    \label{table:berufe}
%  \end{center}
%\end{table}%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Benutzeranalyse}\label{sec:user_ana}

Bei der Zielgruppe handelt es sich um erfahrene Entwickler, die mit dem Simulator ihre Anwendungen im Bereich Context Awareness testen möchten. In erster Linie sind das die Mitarbeiter des IMIS, die das MACK Framework entwickeln und gleichzeitig die Auftraggeber dieses Projektes sind. Sie wollen bestimmte Teile des MACK Systems zum Beispiel seine Reasoner testen und evaluieren.

Da wir die späteren Benutzer als Experten eingestuft haben, waren wir von Anfang an viel mit ihnen in Kontakt, um beispielsweise die spätere Spezifikationssprache der Simulationen festzulegen. Unser Ergebnis war hier, dass mindestens grundlegende Kenntnisse in Java und XML gegeben sind und deshalb die Simulationen mittels dieser Sprachen spezifiziert werden können.

Eine weitere wichtige Frage an die erfahrenen Benutzer war, welche Art von Benutzungsschnittstellen für sie implementiert werden sollten. Hier haben wir erfahren, dass sowohl besonderer Wert auf detaillierte Logausgaben gelegt wird als auch eine einfache grafische Oberfläche erwünscht ist, da diese für einen schnellen ersten Eindruck von der Arbeit des Systems besonders gut geeignet ist.

Im gesamten Entwicklungsprozess haben wir eng mit den späteren Nutzern zusammengearbeitet und uns möglichst früh Rückmeldung zu offenen Fragen und Entwicklungsentscheidungen geholt. So wollten wir sicherstellen, dass die Benutzer direkt an der Entwicklung beteiligt sind und somit mögliche Fehlentwicklungen vermieden werden.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\imiscomment{Zielgruppen}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Kontextanalyse}\label{sec:context_ana}
Der Simulator soll im IMIS auf den Arbeitsplätzen der Entwickler laufen. Die Arbeitsplätze sind mindestens Quad-Core-Maschinen. Der Simulator soll während der Entwicklung zur Verifikation einzelner Änderungen eingesetzt werden. Außerdem sollen längere Simulationen durchgeführt werden, deren Ergebnisse später mit Hilfe der Logfiles ausgewertet werden können. Das System muss also sowohl im Vorder- als auch im Hintergrund laufen können.

Wegen des hohen Netzwerkaufkommens ist es optimal, Server und Simulator auf einer Maschine laufen lassen zu können und den Netzwerkverkehr lokal abzuwickeln.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\imiscomment{Beschreibung des räumlich-zeitlichen Umfeldes für den Einsatz des Systems}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Organisationsanalyse}\label{sec:orga_ana}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\imiscomment{Beschreibung des organisatorischen Umfeldes für den Einsatz des Systems, also z.B. den betrieblichen Kontext bei einem System im Arbeitseinsatz}
\documentclass[11pt,    % standard font size
  english,ngerman,      % german primary, english secondary
  paper=a4,             % standard paper size
  oneside,              % one-sided print
  tablecaptionbelow,    % captions below tables
%   liststotocnumbered,   % dummy only, tocloft.sty will change it
%   bibtotocnumbered,     % dummy only, tocloft.sty will change it
%   BCOR=5mm,             % dummy only, geometry.sty will change it
%   normalheadings,       % dummy only, titlesec.sty will change it
%   headinclude,          % dummy only, geometry.sty will change it
%   footinclude,          % dummy only, geometry.sty will change it
%   draft,                % speed things up before final version
  DIV=calc              % dummy only, geometry.sty will change it
  ]{scrbook}            % KOMA script book class

% The dummy settings would be sensible for use with KOMA without
% modifications for use at IMIS. They will, however, be overwritten
% by other packages later to give the document an IMIS look.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% This is an example LaTeX document for use with theses at
% the Institute for Multimedia and Interactive System (IMIS)
% at the University of Lübeck.
%
% It is unofficial, but if used without changes, it mimics
% the style of the official MS Word template quite closely.
% Typographically dubious choices in this template are
% due to shortcomings of the Word template.
%
% Adapt it where you see fit - you don't have to follow all
% idiosyncrasies of the default style, but can use
% typographically sane variations.
%
% You should be able to use it as it is, parts where your
% have to change things or decide on options are marked:
% FIXME change something here
%
% This template should only need packages available in a
% standard TeXlive install. Inputencoding is UTF 8, please
% make sure your editor gets that right. We use pdfLaTeX
% and produce PDF directly, we do not go via DVI.
%
% Happy TeXing:)
%
% Please direct comments, feedback, patches to:
% cassens@imis.uni-luebeck.de
%
% ChangeLog
% 2010-09-23 project started (jc)
% 2010-09-29 initial release (jc)
% 2010-09-30 bugfix imis.bst (jc)
% 2010-10-08 hacks for listings added (jc)
% 2010-11-16 changed titlepage as in new word template (jc)
% 2011-02-02 experimental workaround listings in german (jc)
% 2011-06-17 changed way of referencing weblinks (jc)
% 2011-07-29 removed broken package ltablex and use plain
%            tabularx. Beware: tabularx does not support
%            tables over several pages (thanks Niels for bug
%            report & Bjoern for debugging) (jc)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% this makes the references a section instead of a chapter
% unfortunately, this has to be done before other packages
% mess around with the definition
\makeatletter
\renewcommand*\bib@heading{%
  \section*{\bibname}%
  \@mkboth{\bibname}{\bibname}%
}
\makeatother

% First we load the needed packages
%%%%%%%%%% General      %%%%%%%%%%
% language settings, input- and output-encoding
% localization (laguages set in document directive):
\usepackage{babel}
% we use UTF8 input:
\usepackage[utf8]{inputenc}
% out put encoding:
\usepackage[T1]{fontenc}

%%%%%%%%%% Fonts        %%%%%%%%%%
% we use a mix of Times,
% Courier and Helvetica:
\usepackage{mathptmx,courier}
% non-scaled Helvetica has wrong size
% (I know Times and Helvetica do not really
% fit together, but there is no fitting sans
% font in the default LaTeX installs)
\usepackage[scaled]{helvet}

%%%%%%%%%% Look & Feel  %%%%%%%%%%
% nicer headings/footer:
\usepackage{scrpage2}
% needed to change appearance of titles:
\usepackage{titlesec}
% typeset URLs nicely:
\usepackage{url}
% extended table environment:
\usepackage{tabularx}
% colors in tables:
\usepackage{colortbl}
% now we define the margins:
\usepackage[includeheadfoot, % footer/heading to text area
  inner=3cm,%     % inner margin larger for bindig correction
  outer=2.5cm,%   % outer margin
  top=2.5cm,%     % top margin
  bottom=1.5cm]%  % bottom margin
  {geometry}
% increases the line spacing:
\usepackage[onehalfspacing]{setspace}
% running fgure/table numbers, but per chapter:
\usepackage{chngcntr}
% used to adapt listoffigures, listoftables:
\usepackage{tocloft}
% used for adapting list environment, e.g. for glossaries
\usepackage{enumitem}
% include source code listings in the text
\usepackage{listings}

% define new float environments
\usepackage{float}


%%%%%%%%%% Graphics     %%%%%%%%%%
% we need to be able to include graphics:
\usepackage{graphicx}
% we use colors in tables etc.:
\usepackage{xcolor}
% TikZ is cool for diagrams:
\usepackage{tikz}
\usetikzlibrary{arrows,positioning}
%%%%%%%%%% Bib          %%%%%%%%%%
% allows us to use author-year styles
\usepackage{natbib}
% allows to have a separate bibliography for weblinks (or more)
\usepackage{multibib}

%%%%%%%%%% Other        %%%%%%%%%%
% % is already loaded automatically:
% \usepackage{calc}
% % do we want an index?
% \usepackage{makeidx}
% include hyperlinks in pdf and much more:
% Links in PDF versions going to the
% examiner should be black, else you
% might prefer the colored version
% commented out below.
\usepackage[
  colorlinks=true,
  linkcolor=black,
  pagecolor=black,
  menucolor=black,
  citecolor=black,
  urlcolor=black,
%   linkcolor=red!40!black,
%   pagecolor=red!40!black,
%   menucolor=red!40!black,
%   citecolor=blue!50!black,
%   urlcolor=green!40!black,
]{hyperref}
% beware: the hyperref package should always be loaded as the
% last one since it redefines a lot of commands. There are
% a few exceptions to this rule, e.g. when using bibunits.sty
% another exception is this one for building glossaries:
\usepackage[toc,% % entry in table of contents
  acronym,%       % we want a list of acronyms
  nonumberlist]%  % we don't need backlinks
  {glossaries}

% Now all packages are loaded and we can start to modify
% the look and feel.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Set up header and footer
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% % this is the default for IMIS:
% % left headers, page numbers to the right
% \pagestyle{scrheadings}
% \clearscrheadfoot
% \renewcommand{\headfont}{\normalfont\rmfamily\itshape}
% \ihead{\headmark}
% \ofoot[\pagemark]{\pagemark}

% You can try this alternative:
\pagestyle{scrheadings}
\clearscrheadfoot
\renewcommand{\headfont}{\normalfont\rmfamily\itshape}
\ohead{\headmark}
\ofoot[\pagemark]{\pagemark}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   General changes to formatting
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% this defines how the listing environments (for source code)
% should look like
% for producing the captions for the listings and the list of
% listings in the end, we have two options:
% a) rely on the built-in macros of listings.sty, using
%    \caption and \lstlistoflistings
%    Pro: Easy to use
%    Con: Both the captions and the list of listings
%         will look different to the ones used for
%         tables and figures. In order to make them look
%         identical, we would need to re-define a lot of
%         internal commands from listings.sty, that could
%         easily break with updates to listings.sty
% b) build our own \illcaption command and encapsulate the
%    lstlistings in a new float environment, illfloat
%    Pro: Captions and list of figures look coherent with
%         tables and figures
%    Con: Every lstlisting environment needs to be inside
%         an illfloat float environment to make sure the
%         listing and the caption are not separated. We can
%         use the [H] placement modifier from float.sty to
%         make sure the listing shows up exactly where
%         we define it, but we loose the option to have
%         pagebreaks in long listings.
% Chose your poison. Since the standard way of doing is
% well documented in the listings.sty documentation, I will
% show how to use option b) in this example file.
% First some basic styling
% FIXME you will probably not use Pascal
\lstset{frame=single,language=Java,captionpos=b,nolol=false}
% TODO differences in defined languages for listings.sty
\AtBeginDocument{%
  \makeatletter
    \addto\captionsngerman{%
      \def\lstlistingname{Quelltext}%
      \def\lstlistlistingname{Quelltexte}%
    }%
  \makeatother
}
% defining new commands for in-line emphazising of
% code classes and methods.
\definecolor{codeinlinecolor}{RGB}{0,0,0} 
\definecolor{codeclasscolor}{RGB}{0,0,100}
\definecolor{codemethodcolor}{RGB}{0,100,0}
\newcommand{\codeinline}[1]{\texttt{{\color{codeinlinecolor} #1}}}
\newcommand{\codeinterface}[1]{\texttt{{\color{codeclasscolor} #1}}}
\newcommand{\codeclass}[1]{\texttt{{\color{codeclasscolor} #1}}}
\newcommand{\codemethod}[1]{\texttt{{\color{codemethodcolor} #1}}}

% % for other than KOMA classes, the following may have
% % to be used instead:
% \renewcommand*{\lstlistlistingname}{Quelltexte}
% \renewcommand*{\lstlistingname}{Quelltexte}

% we use tocloft.sty to add Abbildung or Tabelle
% in front of entries in their respective lists of ...
% diversion from Word template: Tabelle and Abbildung
% are not set in bold in the list of ...
% we also take the -verzeichnis out of the names
% TODO babel for listoffigures/tables
% first the listoffigures:
\newlength\imisfiglength
\settowidth\imisfiglength{Abbildung\ }
\addtolength\cftfignumwidth{\imisfiglength}
\addtolength\cftfignumwidth{-1em}
\setlength{\cftfigindent}{0em}
\renewcommand{\cftfigpresnum}{Abbildung\ }
\renewcommand{\cftfigaftersnum}{:}
\addto\captionsngerman{%
  \renewcommand{\listfigurename}%
    {Abbildungen}%
}
% now the listoftables:
\newlength\imistablength
\settowidth\imistablength{Tabelle\ }
\addtolength\cfttabnumwidth{\imistablength}
\addtolength\cfttabnumwidth{-1em}
\setlength{\cfttabindent}{0em}
\renewcommand{\cfttabpresnum}{Tabelle\ }
\renewcommand{\cfttabaftersnum}{:}
\addto\captionsngerman{%
  \renewcommand{\listtablename}%
    {Tabellen}%
}
% now the listoflistings with tocloft (option b))
% described above - needed when we want the captions
% and list of listings to look similar to  those
% for figures and tables
% First we define a new list:
\newcommand{\listimislistingsname}{Quelltexte}
\newlistof{imislistings}{ill}{\listimislistingsname}
% then we format it similar to figures/tables
\newlength\imisilllength
\settowidth\imisilllength{Quelltext\ }
\addtolength\cftimislistingsnumwidth{\imisilllength}
\setlength{\cftimislistingsindent}{0em}
\renewcommand{\cftimislistingspresnum}{Quelltext\ }
\renewcommand{\cftimislistingsaftersnum}{:}

% We define a new float environment to keep the lstlistings
% and illcaption together - remember you can keep the special
% placement option [H] to keep the listings in place in your
% text, like you do when not using the [float] option of the
% lstlisting-environment:
\floatstyle{komabelow}
\newfloat{illfloat}{htb}{ilf}
\floatname{illfloat}{Quelltext}

% now we define a new \illcaption-macro to be used
% together with the lstlistings:
\makeatletter
\newcommand{\illcaption}[1]{%
\@ifnextchar[{\illcaption@i{#1}}{\illcaption@i{#1}[{#1}]}%
}
\def\illcaption@i#1[#2]{%

  \refstepcounter{imislistings}
%   \newcolumntype{Y}{>{\raggedright\arraybackslash}X}
  \begin{tabularx}{\columnwidth}{rX}
    \textbf{Quelltext \theimislistings:} & #1 \\
  \end{tabularx}

  \addcontentsline{ill}{imislistings}{\protect\numberline{\theimislistings}#2}\par
}
\makeatother

% the rest of the formatting changes is easy in comparison:

% we want no identation of the first line of a paragraph,
% but a skip between paragraphs:
\parindent 0pt
\parskip 6pt

% we number figures and tables throughout the text
% using the chngcntr.sty package:
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}

% labels in captions for tables and figures screaming
% in bold:
\renewcommand*{\figureformat}{\textbf{\figurename~\thefigure\autodot}}
\renewcommand*{\tableformat}{\textbf{\tablename~\thetable\autodot}}

% this is the KOMA-way of changing titles. We only
% use it to format the toc, rest is done below:
\setkomafont{sectioning}{\rmfamily\bfseries}

% Now we define how the different section headings look like.
% These settings use the titlesec.sty package:
\titleformat{\chapter}          % which level
  {\relax}                      % shape of the heading
  {\huge\textrm{\thechapter}}   % format of mark
  {1em}                         % separate mark and title
  {\huge\rmfamily}              % format of title

\titleformat{\section}
  {\relax}
  {\Large\textrm{\thesection}}
  {1em}
  {\Large\rmfamily}

\titleformat{\subsection}
  {\relax}
  {\large\textrm{\thesubsection}}
  {1em}
  {\large\rmfamily}

\titleformat{\subsubsection}
  {\relax}
  {\normalsize\textit{\thesubsubsection}}
  {1em}
  {\normalsize\itshape}

\titleformat{\paragraph}
  [runin]
  {\normalsize\bfseries}
  {\theparagraph}
  {0pt}
  {}

\titleformat{\subparagraph}
  [runin]
  {\normalsize\itshape}
  {\theparagraph}
  {0pt}
  {}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Set up citation styles
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% we use multibib.sty to generate a weblinks bibliography
% define more as you see fit (Software, RFCs. Pictures)
\newcites{web}{Weblinks}
% % If you use several bibliographies, you need to run all
% % of them through bibTeX. This can be achieved with the
% % following script (for Unix, Mac, and Linux):
% #!/bin/bash
% for file in *.aux ; do
%   bibtex `basename $file .aux`
% done

% Indentation in the bibliography is supposed to be
% quite large at IMIS
\setlength{\bibhang}{1cm}

% do we want to include a glossary and an index?

\makeglossary
% \makeindex

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% glossaries and indices
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% these files are used for defining abbreviations and gloses
% FIXME you have to run makeglossaries for creating glossaries
% makeglossaries is a perl script included with glossaries.sty
% read the documentation for further info
\input{glos.tex}
\input{abk.tex}

% we define two styles, for abbreviations and glossaries
% we make use of enumitem.sty, you might have to change
% the margins to fit your needs

\newglossarystyle{imis}{%
  \glossarystyle{list}%
  \renewenvironment{theglossary}%
    {\begin{description}[font=\rmfamily\bfseries,leftmargin=4cm,style=multiline]}%
    {\end{description}}%
  }

\newglossarystyle{imisabk}{%
  \glossarystyle{list}%
  \renewenvironment{theglossary}%
    {\begin{description}[font=\normalfont,leftmargin=2cm,style=multiline]}%
    {\end{description}}%
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% float control
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% more sensible defaults for how much space floats can take
% up on pages with text:
% http://www.tug.org/texmf-dist/doc/generic/FAQ-en/html/FAQ-floats.html
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{9}
\setcounter{totalnumber}{20}
\setcounter{dbltopnumber}{9}
\renewcommand{\topfraction}{0.85}
\renewcommand{\bottomfraction}{0.7}
\renewcommand{\textfraction}{0.15}
\renewcommand{\floatpagefraction}{0.7}
\renewcommand{\dbltopfraction}{.7}
\renewcommand{\dblfloatpagefraction}{.7}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% some commands necessary for the template
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% the imiscomment command outputs some hints about what to
% write about in the different parts of the thesis
% you should either delete them all or redefine this
% command to an empty one
\definecolor{imiscommentcolor}{RGB}{142,0,0}
\newcommand{\imiscomment}[1]{\textit{\color{imiscommentcolor}#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% let the fun begin
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\lstset{language=Java}
% stuff before real content, no chaptermarks, roman page numbers
\frontmatter

% % the cite commands will generate entries in the index, if used
% \citeindextrue

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% We don't use a custom \maketitle for now
% so we have to make our own titlepage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\thispagestyle{empty}
\vspace*{-2.2cm}
\begin{center}
  \includegraphics[width=2.9cm]{pics/uni-siegel.pdf}\\

  \vspace{.5cm}
  {
  \fontsize{16pt}{10pt}\selectfont
  Universität zu Lübeck\\
  }

  \vspace{.65cm}
  {
    \fontsize{14pt}{19pt}\selectfont
    Institut für Multimediale und Interaktive Systeme\\
    Direktor: Prof. Dr. rer. nat. Michael Herczeg\\
  }
  \vspace{2.5cm}
  {
    \fontsize{22pt}{22pt}\selectfont
    \bfseries
    CASi - Context Awareness Simulator \\}
  \vspace{1.5cm}
  {
    \fontsize{16pt}{16pt}\selectfont
    Projektarbeit\\
  }
  \vspace{1.5cm}
  {
    \fontsize{13pt}{13pt}\selectfont
    vorgelegt von\\
    \vspace{10pt}
  Moritz Bürger, Marvin Frick und Tobias Mende\\
  }
  \vspace{2.5cm}
  {
    \fontsize{13pt}{13pt}\selectfont
    Prüfer\\
    \vspace{10pt}
    Prof. Dr. rer. nat. Michael Herczeg\\
  }
  \vspace{1.5cm}
  {
    \fontsize{13pt}{13pt}\selectfont
    wissenschaftliche Begleitung\\
    \vspace{10pt}
    Felix Schmitt, M.A.
  }
\end{center}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter*{Kurzfassung}
\thispagestyle{empty}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

In unserer Projektarbeit im Rahmen des Praktikums im Bereich Interaktions- und Mediengestaltung beschäftigen wir uns mit der Konzeption und Entwicklung eines Context Awareness Simulators.

Ziel des Projektes ist es, eine Simulation zu entwickeln, mit der das MACK Framework und die dazugehörigen Reasoner ohne spezielle Hardware getestet werden können. Hierfür entwickeln wir zunächst ein abstraktes Simulationsframework, mit dem Simulationen für verschiedene Umgebungen entwickelt und simuliert werden können.

Auf dieser Grundlage implementieren wir eine Simulation zum Test der MATe Anwendung.

\vfill

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Schlüsselwörter} Simulator, Context Awareness, Software Entwicklung
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\selectlanguage{english} % switching to english
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter*{Abstract}
\thispagestyle{empty}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\imiscomment{A short, english abstract of the work}
This project thesis displays our approach of planning and developing a simulation software for context aware systems. It covers both the aspects of the initial planning as well as the development phases itself.
This work originates from the course interaction- and media-development at the University of Lübeck.

The primary goal was to develop a simulator that interacts with the established MACK framework and its reasoners, without the need to build concrete hardware modules.
For the reason of reusability a generic simulation framework was designed, which focuses on modularity and abstraction, to enable  different user groups to simulate their own environments.

With this software (called CASi - context awareness simulator) we implemented a simulation that reflects the MATe application.

\vfill

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Keywords} context awareness, simulator, software development
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\selectlanguage{ngerman} % and back to german

% if using tocloft.sty, we need an explicit clearpage
\clearpage
% we want chapters and secitions in the toc, then generate it
\setcounter{tocdepth}{1}
\tableofcontents

% now we have real content, with section marks and egyptian numerals
\mainmatter

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\include{content/einleitung}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\include{content/analyse}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\include{content/konzeption}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\include{content/realisierung}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\include{content/dialogbeispiele}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\include{content/evaluation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\include{content/zusammenfassung}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\include{content/appendix}
\end{document}
